&atfram.HiddenValueCallback{CallbackRaw:atfram.CallbackRaw{ID:0, CallbackType:"HiddenValueCallback", Inputs:[]atfram.CallbackInput{atfram.CallbackInput{Name:"IDToken1", Value:"proofOfWorkNonce"}}, Outputs:[]atfram.CallbackOutput{atfram.CallbackOutput{Name:"value", Value:""}, atfram.CallbackOutput{Name:"id", Value:"proofOfWorkNonce"}}}}
&atfram.TextOutputCallback{CallbackRaw:atfram.CallbackRaw{ID:1, CallbackType:"TextOutputCallback", Inputs:[]atfram.CallbackInput(nil), Outputs:[]atfram.CallbackOutput{atfram.CallbackOutput{Name:"message", Value:"function startProofOfWork(uuid, difficulty, onProofOfWorkSuccess) {\n    console.log(\"start proof of Work script\");\n    const maxGenerationsPerIteration = 5000;\n    const target = Array(difficulty + 1).join(\"0\");\n    let nonce = 0;\n    let validNonceFound = false;\n    function mineHash() {\n        for (let count = 0; count < maxGenerationsPerIteration; count++) {\n            const hash = generateHash(uuid, nonce);\n            if (hash.substring(0, difficulty) !== target) {\n                nonce++;\n            } else {\n                validNonceFound = true;\n                break;\n            }\n        }\n        if (validNonceFound) {\n            onProofOfWorkSuccess(nonce);\n        } else {\n            setTimeout(mineHash, 1);\n        }\n    }\n    mineHash();\n}\nvar difficulty = 3;\nvar work = \"48114f33-f7f0-4efd-8b7c-17d1c924bcd1\";\nconsole.log(\"proof of Work difficulty: \",difficulty);\nconsole.log(\"proof of Work uuid: \",work);\nstartProofOfWork(work, difficulty, function(nonce) {\ndocument.getElementById('proofOfWorkNonce').value = nonce;\nconsole.log(\"valid nonce value: \",nonce);\n})\nfunction generateHash(uuid, nonce) {\n\tconst msg = uuid.concat(nonce);\n\treturn SHA1(msg);\n}\n/**\n *\n * Secure Hash Algorithm (SHA1)\n * http://www.webtoolkit.info/\n *\n **/\nfunction SHA1(msg) {\n    function rotate_left(n, s) {\n        var t4 = (n << s) | (n >>> (32 - s));\n        return t4;\n    };\n    function lsb_hex(val) {\n        var str = \"\";\n        var i;\n        var vh;\n        var vl;\n        for (i = 0; i <= 6; i += 2) {\n            vh = (val >>> (i * 4 + 4)) & 0x0f;\n            vl = (val >>> (i * 4)) & 0x0f;\n            str += vh.toString(16) + vl.toString(16);\n        }\n        return str;\n    };\n    function cvt_hex(val) {\n        var str = \"\";\n        var i;\n        var v;\n        for (i = 7; i >= 0; i--) {\n            v = (val >>> (i * 4)) & 0x0f;\n            str += v.toString(16);\n        }\n        return str;\n    };\n    function Utf8Encode(string) {\n        string = string.replace(/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n        for (var n = 0; n < string.length; n++) {\n            var c = string.charCodeAt(n);\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            } else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            } else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n        }\n        return utftext;\n    };\n    var blockstart;\n    var i, j;\n    var W = new Array(80);\n    var H0 = 0x67452301;\n    var H1 = 0xEFCDAB89;\n    var H2 = 0x98BADCFE;\n    var H3 = 0x10325476;\n    var H4 = 0xC3D2E1F0;\n    var A, B, C, D, E;\n    var temp;\n    msg = Utf8Encode(msg);\n    var msg_len = msg.length;\n    var word_array = new Array();\n    for (i = 0; i < msg_len - 3; i += 4) {\n        j = msg.charCodeAt(i) << 24 | msg.charCodeAt(i + 1) << 16 |\n            msg.charCodeAt(i + 2) << 8 | msg.charCodeAt(i + 3);\n        word_array.push(j);\n    }\n    switch (msg_len % 4) {\n        case 0:\n            i = 0x080000000;\n            break;\n        case 1:\n            i = msg.charCodeAt(msg_len - 1) << 24 | 0x0800000;\n            break;\n        case 2:\n            i = msg.charCodeAt(msg_len - 2) << 24 | msg.charCodeAt(msg_len - 1) << 16 | 0x08000;\n            break;\n        case 3:\n            i = msg.charCodeAt(msg_len - 3) << 24 | msg.charCodeAt(msg_len - 2) << 16 | msg.charCodeAt(msg_len - 1) << 8 | 0x80;\n            break;\n    }\n    word_array.push(i);\n    while ((word_array.length % 16) != 14) word_array.push(0);\n    word_array.push(msg_len >>> 29);\n    word_array.push((msg_len << 3) & 0x0ffffffff);\n    for (blockstart = 0; blockstart < word_array.length; blockstart += 16) {\n        for (i = 0; i < 16; i++) W[i] = word_array[blockstart + i];\n        for (i = 16; i <= 79; i++) W[i] = rotate_left(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n        A = H0;\n        B = H1;\n        C = H2;\n        D = H3;\n        E = H4;\n        for (i = 0; i <= 19; i++) {\n            temp = (rotate_left(A, 5) + ((B & C) | (~B & D)) + E + W[i] + 0x5A827999) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 20; i <= 39; i++) {\n            temp = (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 40; i <= 59; i++) {\n            temp = (rotate_left(A, 5) + ((B & C) | (B & D) | (C & D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 60; i <= 79; i++) {\n            temp = (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        H0 = (H0 + A) & 0x0ffffffff;\n        H1 = (H1 + B) & 0x0ffffffff;\n        H2 = (H2 + C) & 0x0ffffffff;\n        H3 = (H3 + D) & 0x0ffffffff;\n        H4 = (H4 + E) & 0x0ffffffff;\n    }\n    var temp = cvt_hex(H0) + cvt_hex(H1) + cvt_hex(H2) + cvt_hex(H3) + cvt_hex(H4);\n    return temp.toLowerCase();\n}"}, atfram.CallbackOutput{Name:"messageType", Value:"4"}}}}
&atfram.NameCallback{CallbackRaw:atfram.CallbackRaw{ID:2, CallbackType:"NameCallback", Inputs:[]atfram.CallbackInput{atfram.CallbackInput{Name:"IDToken3", Value:""}}, Outputs:[]atfram.CallbackOutput{atfram.CallbackOutput{Name:"prompt", Value:"custom.alditalk.loginuserbasic.login|custom.alditalk.loginuserbasic.loginplaceholder"}}}}
&atfram.PasswordCallback{CallbackRaw:atfram.CallbackRaw{ID:3, CallbackType:"PasswordCallback", Inputs:[]atfram.CallbackInput{atfram.CallbackInput{Name:"IDToken4", Value:""}}, Outputs:[]atfram.CallbackOutput{atfram.CallbackOutput{Name:"prompt", Value:"custom.alditalk.loginuserbasic.password|custom.alditalk.loginuserbasic.passwordplaceholder"}}}}
&atfram.ConfirmationCallback{CallbackRaw:atfram.CallbackRaw{ID:4, CallbackType:"ConfirmationCallback", Inputs:[]atfram.CallbackInput{atfram.CallbackInput{Name:"IDToken5", Value:0}}, Outputs:[]atfram.CallbackOutput{atfram.CallbackOutput{Name:"prompt", Value:""}, atfram.CallbackOutput{Name:"messageType", Value:0}, atfram.CallbackOutput{Name:"options", Value:[]interface {}{"custom.alditalk.loginuserbasic.loginWithoutPassword", "custom.alditalk.loginuserbasic.registerbtn", "custom.alditalk.loginuserbasic.loginbtn", "custom.alditalk.loginuserbasic.forgetP"}}, atfram.CallbackOutput{Name:"optionType", Value:-1}, atfram.CallbackOutput{Name:"defaultOption", Value:1}}}}
[2025-11-06T00:00:21.587Z]-[fatal]-[github.com/Dr-Deep/AT-Celerceptor/atfram.(*Client).test] test() !
